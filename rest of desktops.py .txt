"""
start=time.time()

for i in range(2, 4): # 33 because the last browse page is /browse/33/
	browse_link="http://simpledesktops.com/browse/"+str(i)+"/"
	print browse_link
	browselist.append(browse_link)
print browselist
browselist_duration=time.time()-start

print "created browselist","(",browselist_duration,"sec)"

for link in browselist:
        html = get_html(link)
        linkslist = find_all_links(html)
        for linkl in linkslist:
                if "desktops" in linkl:
                        linkl = add_main_url(linkl)
                        if linkl not in introlinks:
                                print linkl
                                introlinks.append(linkl)
                        
print introlinks
introlinks_duration=time.time()-start

print "got all introlinks","(",introlinks_duration,"sec)"

for introlink in introlinks:
        intro_html = get_html(introlink)
        filelist = find_all_links(intro_html)
        intro_keyword=introlink.rstrip("/")
        intro_keyword=intro_keyword.split("/")[-1]
        print intro_keyword
        #print filelist
        for filelistlink in filelist:
                if "download" in filelistlink:
                        filelistlink=add_main_url(filelistlink)
                        if filelistlink not in dict_files:
                                print filelistlink
                                dict_files[filelistlink]=intro_keyword

print dict_files
filelinks_duration=time.time()-start
print "got all filelinks","(",filelinks_duration,"sec)"

for link in dict_files:
        extension=define_image_extension(link)
        keyword=dict_files[link]
        output_path="C:\Users\xoxo\Desktop\img\\"+keyword+extension
        print output_path
        print "downloading "+keyword+extension
        urllib.urlretrieve(link, output_path)
"""